<!DOCTYPE html>

<style>
  html {
    display: flex;
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
  }

  body {
    margin: auto;
  }
</style>

<script src="https://cdn.jsdelivr.net/npm/p5@1.4.0/lib/p5.min.js"></script>

<script>
  p5.Element.prototype.position = function (x = null, y = null) {
    if (x === null || y === null) {
      return this.style.getPropertyValue("--x");
    }
  };
  
  window.rgb = function() {
    let color = window.color(...arguments);

    let red = color
      ._getRed()
      .toString(16)
      .padStart(2, "0");

    let green = color
      ._getGreen()
      .toString(16)
      .padStart(2, "0");

    let blue = color
      ._getBlue()
      .toString(16)
      .padStart(2, "0");

    return `#${red}${green}${blue}`;
  };

  Object.defineProperty(window, "background", {
    get: () => function() {
      document.documentElement.style.background = rgb(...arguments);

      return p5.prototype.background.apply(p5.instance, arguments);
    },
    set: () => {}
  });
</script>

<script type="module">
  import * as sketch from "./sketch.js";
  for (let func in sketch) window[func] = sketch[func];
</script>

<main></main>
